# Makefile for generic linux with GNU compiler and generic MPI 
# such as openmpi, mpich, etc.


#-- Do the following to compile with XL on Summitdev w/ OpenMP:
#   module load xl  #-- if not already loaded
#   export OMPI_FC=`which xlf2008_r`
#   export OMP_PLACES=threads
#   export OMP_NUM_THREADS=x

FORTRAN_COMPILE      = mpifort -c -qsmp=omp -qoffload #-qsmp=omp:auto -qoffload
FORTRAN_BOUND_CHECK  = -qcheck=bounds
FORTRAN_DEBUG        = -g -qsigtrap #-Wall
FORTRAN_OPTIMIZE     = -Ofast
FORTRAN_PROFILE      = 

CC_COMPILE           = mpicc -c -fopenmp
NVCC_COMPILE         = nvcc -c

LINK = mpifort -qsmp=omp -qoffload #-qsmp=omp:auto -qoffload

LINK_NVCC = nvcc

#SILO_DIR = /ccs/home/reubendb/projects/swtree/peak/silo/4.10.2/xl2017
SILO_DIR = /sw/peak/caascade/silo/4.10.2/xl20180502
INCLUDE_SILO = -I${SILO_DIR}/include
LIBRARY_SILO = -L${SILO_DIR}/lib -lsilo

INCLUDE_CUDA = -I${OLCF_CUDA_ROOT}/include
LIBRARY_CUDA = -L${OLCF_CUDA_ROOT}/lib64 -lcudart
